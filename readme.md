# PWAå…¥é—¨è¯¦è§£

![image](http://lc-jOYHMCEn.cn-n1.lcfile.com/7348400570d1df39842a/pwa.png)

# ç®€ä»‹

Webå‰ç«¯çš„åŒå­¦æ˜¯å¦æƒ³è¿‡å­¦ä¹ appå¼€å‘ï¼Œä»¥å¼¥è¡¥è‡ªå·±ç§»åŠ¨ç«¯èƒ½åŠ›çš„ä¸è¶³ï¼Ÿä½†åœ¨é¢å¯¹ä¸€ä¼—çš„é€‰æ‹©æ—¶å¾ˆå¤šåŒå­¦ç•¥æ„Ÿè¿·èŒ«ï¼Œæ˜¯å­¦ä¹ iosè¿˜æ˜¯androidå¼€å‘ï¼Ÿæ˜¯å­¦ä¹ åŸç”Ÿå¼€å‘ã€æ··åˆå¼€å‘ï¼ˆæ¯”å¦‚ï¼š[Ionic](https://ionicframework.com/))ï¼Œè¿˜æ˜¯ä½¿ç”¨[react native](https://facebook.github.io/react-native/)æˆ–è€…[flutter](https://flutter.dev/)è¿™æ ·çš„è·¨å¹³å°æ¡†æ¶ï¼Ÿè€Œappå¼€å‘çš„å­¦ä¹ å‘¨æœŸé•¿ã€å­¦ä¹ æˆæœ¬é«˜ä¹Ÿè®©ä¸€éƒ¨åˆ†äººæœ›è€Œå´æ­¥ã€‚å¾—ç›Šäºå‰ç«¯æŠ€æœ¯çš„é£é€Ÿå‘å±•ã€æµè§ˆå™¨æ€§èƒ½çš„ä¸æ–­æé«˜ï¼Œä½¿ç”¨ç½‘é¡µæŠ€æœ¯å¼€å‘å‡ºæ¥è¿‘åŸç”Ÿä½“éªŒçš„åº”ç”¨å¾—ä»¥å˜ä¸ºç°å®ï¼ŒPWAå°±åœ¨è¿™æ ·çš„èƒŒæ™¯ä¸‹åº”è¿è€Œç”Ÿã€‚å¯ä»¥ç”¨è‡ªå·±ç†Ÿæ‚‰çš„HTMLã€CSSã€Javascriptå¼€å‘å‡ºåª²ç¾åŸç”Ÿappçš„ç½‘ç«™ï¼Œä¸ä»…æ‹¥æœ‰æ¥è¿‘åŸç”Ÿappçš„æµç•…ç¨‹åº¦ï¼Œå¹¶ä¸”å…·å¤‡ä¸€äº›åŸç”Ÿappæ‰æœ‰çš„ç‰¹æ€§ï¼Œæ¯”å¦‚ï¼ša. å¯ä»¥åœ¨ä¸»å±ä¸Šå®‰è£…åº”ç”¨å›¾æ ‡ï¼Œb. ç¦»çº¿çŠ¶æ€ä¸‹è®¿é—®ï¼Œc. è·å–æ¶ˆæ¯é€šçŸ¥ï¼Œç­‰ç­‰ã€‚ã€‚PWAçš„å‡ºç°è®©å¤§å®¶çœ‹åˆ°äº†å¸Œæœ›ï¼

# å¯¹æ¯”åŸç”Ÿåº”ç”¨

é‚£PWAå’ŒåŸç”Ÿåº”ç”¨ç›¸æ¯”åˆ°åº•æœ‰ä½•ç«äº‰åŠ›å‘¢ï¼Ÿæˆ‘ä»¬åˆ†åˆ«çœ‹ä¸€ä¸‹åŸç”Ÿåº”ç”¨å’ŒPWAçš„ç‰¹ç‚¹ï¼š

**åŸç”Ÿåº”ç”¨ï¼š**

* ä½¿ç”¨åŸç”ŸSDKå’Œå¼€å‘å·¥å…·å¼€å‘
* éœ€è¦è€ƒè™‘è·¨å¹³å°ï¼Œä¸åŒç³»ç»Ÿå¾€å¾€éœ€è¦ç‹¬ç«‹å¼€å‘
* éœ€è¦å‘å¸ƒåˆ°åº”ç”¨å•†åº—æ‰èƒ½ä¸‹è½½ä½¿ç”¨
* å¯ä»¥å®‰è£…åˆ°æ‰‹æœºä¸»å±ï¼Œç”Ÿæˆåº”ç”¨å›¾æ ‡
* ç›´æ¥è¿è¡Œäºæ“ä½œç³»ç»Ÿä¸Šï¼Œè®¿é—®ç³»ç»Ÿèµ„æºæ–¹ä¾¿
* å¯ä»¥ç¦»çº¿ä½¿ç”¨
* å¯ä»¥è·å–æ¶ˆæ¯é€šçŸ¥

**PWAåº”ç”¨ï¼š**

* ä½¿ç”¨HTMLï¼ŒCSSï¼ŒJSå¼€å‘
* æ— éœ€è€ƒè™‘è·¨å¹³å°ï¼Œåªéœ€è¦è€ƒè™‘æµè§ˆå™¨å…¼å®¹æ€§
* é€šè¿‡urlè®¿é—®ï¼Œæ— éœ€å‘å¸ƒåˆ°åº”ç”¨å•†åº—
* å¯ä»¥å®‰è£…åˆ°æ‰‹æœºä¸»å±ï¼Œç”Ÿæˆåº”ç”¨å›¾æ ‡
* è¿è¡Œäºæµè§ˆå™¨ä¸­ï¼Œå¯è®¿é—®ç³»ç»Ÿèµ„æº
* å¯ä»¥ç¦»çº¿ä½¿ç”¨
* å¯ä»¥è·å–æ¶ˆæ¯é€šçŸ¥

å¯ä»¥å‘ç°PWAå…·å¤‡äº†åŸç”Ÿåº”ç”¨çš„ä¸»è¦èƒ½åŠ›ï¼Œä½†æ˜¯å¼€å‘æµç¨‹å´æ¯”åŸç”Ÿåº”ç”¨æ›´åŠ ç®€æ´ï¼ša. html/css/jsçš„ç¾¤ä¼—åŸºç¡€æ›´å¥½ï¼Œå¼€å‘æ•ˆç‡æ›´é«˜ï¼›b. çœå»äº†ä¸ºä¸åŒç³»ç»Ÿå¼€å‘ç‹¬ç«‹ç‰ˆæœ¬çš„å¤§é‡æˆæœ¬ï¼›c. çœå»äº†ä¸Šæ¶åˆ°åº”ç”¨å¸‚åœºçš„ç¹çæµç¨‹ï¼›d. æ— éœ€å‰å¾€åº”ç”¨å•†åº—ä¸‹è½½ï¼Œç”¨æˆ·ä½¿ç”¨èµ·æ¥ä¹Ÿæ›´åŠ æ–¹ä¾¿ã€‚ä½†æ˜¯å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒPWAè¿˜æ˜¯ç›¸å¯¹æ¯”è¾ƒæ–°çš„æŠ€æœ¯ï¼Œå®ç°è§„èŒƒè¿˜æœ‰å¾ˆå¤šè°ƒæ•´çš„ç©ºé—´ï¼Œéƒ¨åˆ†æµè§ˆå™¨å¯¹PWAçš„æ”¯æŒä¹Ÿè¿˜ä¸å®Œå–„ï¼Œä½†æ˜¯PWAæ˜¯ä¸€ä¸ªè¶‹åŠ¿ï¼Œæ‰€ä»¥ç°åœ¨å­¦ä¹ æ­£åˆé€‚ï¼

æœ¬æ–‡å°†é€šè¿‡ä¸€ä¸ªç®€å•çš„åˆ—å­ï¼ˆä¸€ä¸ªç®€å•çš„é‚®ç¼–æŸ¥è¯¢appï¼‰å‘å¤§å®¶å±•ç¤ºPWAçš„å¼€å‘æµç¨‹ï¼Œé¡¹ç›®å‚è€ƒï¼š[Traversy Media - Build a PWA With Vue & Ionic4](https://www.youtube.com/watch?v=6H1wftPS0oo)ã€‚å®Œæˆåçš„æ•ˆæœæ˜¯ [è¿™æ ·çš„](https://mudontire.github.io/pwa-tutorial/) ã€‚

# åˆ›å»ºé¡¹ç›®

é¡¹ç›®ä½¿ç”¨Vue + Ionicçš„ç»„åˆè¿›è¡Œå¼€å‘ã€‚æœ¬æ–‡ä¸»è¦å…³æ³¨PWAçš„æ­å»ºï¼Œå› æ­¤vueã€ionicç­‰æŠ€æœ¯ä¸åšè¿‡å¤šæè¿°ã€‚ä½¿ç”¨VSCodeçš„åŒå­¦ï¼Œå»ºè®®å®‰è£…[Vetur](https://vuejs.github.io/vetur/)æ’ä»¶å¢åŠ å¼€å‘æ•ˆç‡ã€‚

**1. é¦–å…ˆå…¨å±€å®‰è£… `@vue/cli`ï¼š**

```
npm install -g @vue/cli
```

**2. åˆå§‹åŒ–vueé¡¹ç›®ï¼š**

```
vue create vue-ionic-pwa
```

**3. å› ä¸ºionicçš„è·¯ç”±ä¾èµ–äº`vue-router`ï¼Œæ‰€ä»¥æ¥ä¸‹æ¥å®‰è£… `vue-router`ï¼š**

```
vue add router
```

**4. å®‰è£… `@ionic/vue`**

```
npm install @ionic/vue
```

**5. åœ¨ `src/main.js` ä¸­æ·»åŠ å¯¹ionicçš„å¼•ç”¨ï¼š**

```
...
import Ionic from '@ionic/vue'
import '@ionic/core/css/ionic.bundle.css'

Vue.use(Ionic)
...
```

**6. åœ¨ `src/router.js` ä¸­ä½¿ç”¨ `IonicVueRouter` æ›¿æ¢é»˜è®¤çš„vue routerï¼š**

```
import Vue from 'vue'
import { IonicVueRouter } from '@ionic/vue';
import Home from './views/Home.vue'

Vue.use(IonicVueRouter)

export default new IonicVueRouter({
  mode: 'history',
  base: process.env.BASE_URL,
  routes: [
    {
      path: '/',
      name: 'home',
      component: Home
    }
  ]
})
```

**7. å°† `src/App.vue` å†…å®¹ä¿®æ”¹ä¸ºï¼š**

```
<template>
  <div id="app">
    <ion-app>
      <ion-vue-router/>
    </ion-app>
  </div>
</template>
```

**8. å°† `src/views/Home.vue` å†…å®¹ä¿®æ”¹ä¸ºï¼š**

```
<template>
  <div class="ion-page">
    <ion-header>
      <ion-toolbar>
        <ion-title>
          ZipInfo
        </ion-title>
      </ion-toolbar>
    </ion-header>
    <ion-content class="ion-padding">My App</ion-content>
  </div>
</template>

<script>
export default {
  name: 'home',
  components: {}
}
</script>
```

**æœ€åï¼Œæˆ‘ä»¬è¿è¡Œ`yarn serve`çœ‹ä¸‹æ•ˆæœï¼š**

![1](http://lc-jOYHMCEn.cn-n1.lcfile.com/63ae4b1e9d2926ece165/Screen%20Shot%202019-06-06%20at%2011.58.36%20AM.png)

# AppåŠŸèƒ½å®ç°

Appä¸»è¦æœ‰ä¸‰éƒ¨åˆ†ç»„æˆï¼š1. æœç´¢ç»„ä»¶ï¼Œç”¨äºè¾“å…¥é‚®ç¼–å¹¶æŸ¥è¯¢ï¼Œ2. å±•ç¤ºç»„ä»¶ï¼Œç”¨äºå±•ç¤ºæŸ¥è¯¢åˆ°çš„é‚®ç¼–ä¿¡æ¯ï¼Œ3. æ¸…é™¤æŒ‰é’®ï¼Œç”¨äºæ¸…é™¤æŸ¥è¯¢åˆ°çš„é‚®ç¼–ä¿¡æ¯

## 1. æœç´¢ç»„ä»¶

æˆ‘ä»¬åœ¨ `src/components` ä¸‹é¢æ–°å»º `ZipSearch.vue` æ–‡ä»¶ä½œä¸ºé‚®ç¼–æœç´¢ç»„ä»¶ï¼Œä¸»è¦é€»è¾‘ä¸ºå½“ç”¨æˆ·è¾“å…¥ä¸€ä¸²å­—ç¬¦ï¼ŒæŒ‰ä¸‹æœç´¢æŒ‰é’®ï¼Œå¦‚æœè¾“å…¥åˆæ³•åˆ™è§¦å‘`get-zip`äº‹ä»¶ï¼Œå¦‚æœä¸åˆæ³•åˆ™ç»™å‡ºæç¤ºã€‚

**ZipSearch.vue**

```
<template>
  <ion-grid>
    <form @submit="onSubmit">
      <ion-col>
        <ion-item>
          <ion-label>ZipCode:</ion-label>
          <ion-input
            :value="zip"
            @input="zip = $event.target.value"
            name="zip"
            placeholder="Enter US ZipCode"
          />
        </ion-item>
      </ion-col>
      <ion-col>
        <ion-button type="submit" color="primary" expand="block">Find</ion-button>
      </ion-col>
    </form>
  </ion-grid>
</template>

<script>
export default {
  name: "ZipSearch",
  data() {
    return {
      zip: ""
    };
  },
  methods: {
    onSubmit(e) {
      e.preventDefault();
      const zipRegex = /(^\d{5}$)|(^\d{5}-\d{4}$)/;
      const isValid = zipRegex.test(this.zip);
      if (!isValid) {
        this.showAlert();
      } else {
        this.$emit("get-zip", this.zip);
      }
      this.zip = "";
    },
    showAlert() {
      return this.$ionic.alertController
        .create({
          header: "Enter zipcode",
          message: "Please enter a valid US ZipCode",
          buttons: ["OK"]
        })
        .then(a => a.present());
    }
  }
};
</script>
```

åœ¨ `src/views/Home.vue` ä¸­å¼•å…¥ `ZipSearch` ç»„ä»¶ï¼Œå½“`Home`æ¥æ”¶åˆ°`get-zip`äº‹ä»¶æ—¶è°ƒç”¨ https://www.zippopotam.us çš„æ¥å£ï¼Œè·å–é‚®ç¼–å¯¹åº”çš„ä¿¡æ¯ï¼š

```
...
    <ion-content class="ion-padding">
      <ZipSearch v-on:get-zip="getZipInfo"/>
    </ion-content>
...

<script>
import ZipSearch from "../components/ZipSearch";

export default {
  name: "home",
  components: {
    ZipSearch
  },
  data() {
    return {
      info: null
    };
  },
  methods: {
    async getZipInfo(zip) {
      const res = await fetch(`https://api.zippopotam.us/us/${zip}`);
      if (res.status == 404) {
        this.showAlert();
      }
      this.info = await res.json();
    },
    showAlert() {
      return this.$ionic.alertController
        .create({
          header: "Not Valid",
          message: "Please enter a valid US ZipCode",
          buttons: ["OK"]
        })
        .then(a => a.present());
    }
  }
};
</script>
```
**æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹æœç´¢ç»„ä»¶çš„æ•ˆæœï¼š**

![search](http://lc-jOYHMCEn.cn-n1.lcfile.com/9530b13b5a6590aca1d9/search.png)

**è¾“å…¥é‚®ç¼–æ ¼å¼é”™è¯¯ï¼š**

![invalid input](http://lc-jOYHMCEn.cn-n1.lcfile.com/cc8487a1e7382b2b540b/invalid%20input.png)

## 2. ä¿¡æ¯å±•ç¤ºå’Œæ¸…é™¤ç»„ä»¶

è·å–åˆ°é‚®ç¼–ä¿¡æ¯åæˆ‘ä»¬éœ€è¦ä¸€ä¸ªå±•ç¤ºé‚®ç¼–ä¿¡æ¯çš„ç»„ä»¶å’Œä¸€ä¸ªæ¸…é™¤ä¿¡æ¯çš„æŒ‰é’®ï¼Œåœ¨ `src/components` ä¸‹é¢æ–°å»º `ZipInfo.vue`å’Œ`ClearInfo.vue` ã€‚

**ZipInfo.vue**

```
<template>
  <ion-card v-if="info">
    <ion-card-header>
      <ion-card-subtitle>{{info['post code']}}</ion-card-subtitle>
      <ion-card-title>{{info['places'][0]['place name']}}</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-list>
        <ion-item>
          <ion-label>
            <strong>State:</strong>
            {{info['places'][0]['state']}} ({{info['places'][0]['state abbreviation']}})
          </ion-label>
        </ion-item>
        <ion-item>
          <ion-label>
            <strong>Latitude:</strong>
            {{info['places'][0]['latitude']}}
          </ion-label>
        </ion-item>
        <ion-item>
          <ion-label>
            <strong>Longitude:</strong>
            {{info['places'][0]['longitude']}}
          </ion-label>
        </ion-item>
      </ion-list>
    </ion-card-content>
  </ion-card>
</template>

<script>
export default {
  name: "ZipInfo",
  props: ["info"]
};
</script>
```

**ClearInfo.vue**

```
<template>
  <ion-button color="light" expand="block" v-if="info" @click="$emit('clear-info')">Clear</ion-button>
</template>

<script>
export default {
  name: "ClearInfo",
  props: ["info"]
};
</script>
```

æ¥ç€åœ¨`Home`ä¸­å¼•å…¥`ZipInfo`å’Œ`ClearInfo`ç»„ä»¶ï¼š

**src/views/Home.vue**

```
...
    <ion-content class="ion-padding">
      <ZipSearch v-on:get-zip="getZipInfo"/>
      <ZipInfo v-bind:info="info"/>
      <ClearInfo v-bind:info="info" v-on:clear-info="clearInfo"/>
    </ion-content>
...

import ZipInfo from "../components/ZipInfo";
import ClearInfo from "../components/ClearInfo";

export default {
  name: "home",
  components: {
    ZipSearch, ZipInfo
  },
  methods:{
    ...
    clearInfo(){
      this.info = null;
    }
  }
}
```

åˆ°æ­¤ï¼Œappçš„ä¸»ä½“å°±å®Œæˆäº†ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š

![app](http://lc-jOYHMCEn.cn-n1.lcfile.com/b862fcdaa7d21fa8bed6/app.gif)

# å®ç°PWA

æˆ‘ä»¬ä½¿ç”¨ç°æˆçš„ [`@vue/pwa`](https://github.com/vuejs/vue-cli/tree/v3/packages/%40vue/cli-plugin-pwa) æ’ä»¶æ¥ç»™æˆ‘ä»¬çš„appå¢åŠ PWAçš„èƒ½åŠ›ã€‚

## 1. å®‰è£… `@vue/pwa`

```
vue add @vue/pwa
```

å®‰è£…å®Œæˆåé¡¹ç›®ä¸­å¢åŠ äº† `public/manifest.json` å’Œ `registerServiceWorker.js`ä¸¤ä¸ªæ–‡ä»¶ã€‚å…¶ä¸­ `public/manifest.json` æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š

```
{
  "name": "vue-ionic-pwa",
  "short_name": "vue-ionic-pwa",
  "icons": [
    {
      "src": "./img/icons/android-chrome-192x192.png",
      "sizes": "192x192",
      "type": "image/png"
    },
    {
      "src": "./img/icons/android-chrome-512x512.png",
      "sizes": "512x512",
      "type": "image/png"
    }
  ],
  "start_url": "./index.html",
  "display": "standalone",
  "background_color": "#000000",
  "theme_color": "#4DBA87"
}
```

`manifest.json`ä¸­ä¸»è¦åŒ…å«appçš„åŸºæœ¬ä¿¡æ¯ï¼Œæ¯”å¦‚åç§°ï¼ˆnameï¼‰ã€å›¾æ ‡ï¼ˆiconsï¼‰ã€æ˜¾ç¤ºæ–¹å¼ï¼ˆdisplayï¼‰ç­‰ç­‰ï¼Œæ˜¯web appèƒ½è¢«ä»¥ç±»ä¼¼åŸç”Ÿçš„æ–¹å¼å®‰è£…ã€å±•ç¤ºçš„å¿…è¦é…ç½®ã€‚æ›´å¤šçš„é…ç½®é¡¹å¯å‚è€ƒ [MDN Web App Manifest](https://developer.mozilla.org/en-US/docs/Web/Manifest)ã€‚

åœ¨Chromeæµè§ˆå™¨æ§åˆ¶å°ä¸­ä¹Ÿå¯çœ‹åˆ°appçš„manifesté…ç½®ï¼š

![manifest](http://lc-jOYHMCEn.cn-n1.lcfile.com/12887518f966121ddd06/manifest.png)

`registerServiceWorker.js`ç”¨äºæ³¨å†Œservice workerã€‚service workeré€šä¿—æ¥è®²å°±æ˜¯åœ¨æµè§ˆå™¨åå°ç‹¬ç«‹äºç½‘é¡µè¿è¡Œçš„ä¸€æ®µè„šæœ¬ï¼Œservice workerå¯ä»¥å®Œæˆä¸€äº›ç‰¹æ®Šçš„åŠŸèƒ½ï¼Œæ¯”å¦‚ï¼šæ¶ˆæ¯æ¨é€ã€åå°åŒæ­¥ã€æ‹¦æˆªå’Œå¤„ç†ç½‘ç»œè¯·æ±‚ã€ç®¡ç†ç½‘ç»œç¼“å­˜ç­‰ã€‚Service workerä¹‹äºpwaçš„æ„ä¹‰åœ¨äºèƒ½å¤Ÿä¸ºç”¨æˆ·æä¾›ç¦»çº¿ä½“éªŒï¼Œå³æ‰çº¿çŠ¶æ€ä¸‹ç”¨æˆ·ä¾æ—§èƒ½å¤Ÿè®¿é—®ç½‘ç«™å¹¶è·å–å·²è¢«ç¼“å­˜çš„æ•°æ®ã€‚ä½¿ç”¨service workeréœ€è¦HTTPSï¼Œå¹¶ä¸”è€ƒè™‘ [æµè§ˆå™¨å…¼å®¹æ€§](https://caniuse.com/#search=service%20worker)ã€‚

**registerServiceWorker.js**

```
import { register } from 'register-service-worker'

if (process.env.NODE_ENV === 'production') {
  register(`${process.env.BASE_URL}service-worker.js`, {
    ready () {
      console.log(
        'App is being served from cache by a service worker.\n' +
        'For more details, visit https://goo.gl/AFskqB'
      )
    },
    registered () {
      console.log('Service worker has been registered.')
    },
    cached () {
      console.log('Content has been cached for offline use.')
    },
    updatefound () {
      console.log('New content is downloading.')
    },
    updated () {
      console.log('New content is available; please refresh.')
    },
    offline () {
      console.log('No internet connection found. App is running in offline mode.')
    },
    error (error) {
      console.error('Error during service worker registration:', error)
    }
  })
}
```

åœ¨Chromeæµè§ˆå™¨æ§åˆ¶å°ä¸­ä¹Ÿå¯çœ‹åˆ°service workerçš„çŠ¶æ€ï¼š

![service worker](http://lc-jOYHMCEn.cn-n1.lcfile.com/788b77974ebb06679009/service%20worker.png)

å½“ç„¶ï¼Œåªæ³¨å†Œservice workerè¿˜ä¸å¤Ÿï¼Œæˆ‘ä»¬è¿˜å¸Œæœ›æ§åˆ¶service workerçš„è¡Œä¸ºï¼Œé€šè¿‡åœ¨ `vue.config.js` ä¸­å¢åŠ ç›¸å…³çš„é…ç½®æˆ‘ä»¬å¯ä»¥è®¾ç½®service workeræ–‡ä»¶çš„åç§°ã€ç¼“å­˜é€»è¾‘ç­‰ç­‰ã€‚

**vue.config.js**

```
module.exports = {
  pwa: {
    workboxPluginMode: 'GenerateSW',
    workboxOptions: {
      navigateFallback: '/index.html', 
      runtimeCaching: [
        {
          urlPattern: new RegExp('^https://api.zippopotam.us/us/'),
          handler: 'networkFirst',
          options: {
            networkTimeoutSeconds: 20,
            cacheName: 'api-cache',
            cacheableResponse: {
              statuses: [0, 200]
            }
          }
        }
      ]
    }
  }
}
```

æ›´å¤šé…ç½®è¯·å‚è€ƒï¼š[@vue/cli-plugin-pwa](https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-pwa) å’Œ [workbox-webpack-plugin](https://developers.google.com/web/tools/workbox/modules/workbox-webpack-plugin)ã€‚ç”±äº`@vue/cli-plugin-pwa`ç”Ÿæˆçš„service workeråªåœ¨ç”Ÿäº§ç¯å¢ƒç”Ÿæ•ˆï¼Œæ‰€ä»¥å»ºè®®å°†é¡¹ç›®buildä¹‹åéƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒæµ‹è¯•ã€‚æœ¬æ–‡ç¤ºä¾‹ä½¿ç”¨ [github pages](https://pages.github.com/)è¿›è¡Œéƒ¨ç½²å’Œå±•ç¤ºã€‚

åˆ°æ­¤ï¼Œå°†æ™®é€šweb appè½¬æˆPWAçš„å·¥ä½œåŸºæœ¬å®Œæˆï¼Œæˆ‘ä»¬éƒ¨ç½²åˆ°çº¿ä¸Šçœ‹ä¸‹æ•ˆæœï¼š

**æ–‡ä»¶å·²è¢«ç¼“å­˜ç”¨äºç¦»çº¿è®¿é—®ï¼š**

![app](http://lc-jOYHMCEn.cn-n1.lcfile.com/20eff44369b6dab7659f/Screen%20Shot%202019-06-06%20at%2011.37.11%20PM.png)

**æŸ¥è¯¢ä¸€ä¸ªé‚®ç¼–è¯•è¯•ï¼Œå¯ä»¥å‘ç°è¯·æ±‚è¢«ç¼“å­˜äº†ä¸‹æ¥ï¼š**

![api cache](http://lc-jOYHMCEn.cn-n1.lcfile.com/a5910a7aa2fadeb8d3e9/api%20cache.jpg)

**æˆ‘ä»¬æ¥ç€å…³æ‰ç½‘ç»œï¼Œå†æŸ¥è¯¢åˆšåˆšçš„é‚£ä¸ªé‚®ç¼–ï¼Œå‘ç°åœ¨ç½‘ç»œè¯·æ±‚å¤±è´¥ä¹‹åç«‹å³åˆ‡æ¢ç”¨æœ¬åœ°ç¼“å­˜çš„æ•°æ®ï¼š**

![offline](http://lc-jOYHMCEn.cn-n1.lcfile.com/636fdcb275774c8b28b9/offline.jpg)

å¥½äº†ï¼Œä¸€ä¸ªç®€å•çš„PWAå°±å·²ç»åˆ¶ä½œå®Œæˆäº†ã€‚å½“ç„¶PWAçš„åŠŸèƒ½è¿œä¸æ­¢æœ¬æ–‡æ‰€å±•ç¤ºçš„ï¼Œæ¯”å¦‚æ¨é€ã€å®‰è£…åˆ°æ‰‹æœºï¼Œåç»­æœ‰æœºä¼šå†è·Ÿå¤§å®¶åˆ†äº«ï¼Œè°¢è°¢ğŸ™ã€‚

æœ¬æ–‡demoåœ°å€ï¼šhttps://github.com/MudOnTire/pwa-tutorial
